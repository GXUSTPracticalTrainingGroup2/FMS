<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
     <link rel="stylesheet" href="bs/css/bootstrap.css">
    <link rel="stylesheet" href="css/first_Layout.css"></link>
        <link rel="stylesheet" href="css/Layout.css">

    <title>美食网</title>
</head>
<body id="body">
<div class="wrap" id="wrap">
    <div id="header"></div>
    <div class="main" id="main">
        <h3 class="hh">注册</h3>
        <div class="zhuce1" id="zhuce1">
            <div class="col-md-4" id="zhuce">
                <form id="regis" role="form" action="/auto/user/userAdd"  method="post">
                    <div class="form-group">
                        <label >姓名</label>
                        <input type="text" class="form-control" name="uname">
                    </div>
                    <div class="form-group">
                        <label >密码</label>
                        <input type="text" class="form-control"  name="upassword">
                    </div>
                    <div class="form-group">
                        <label >性别</label>
                        <input type="text" class="form-control" name="usex">
                    </div>
                    <div class="form-group">
                        <label >电话</label>
                        <input type="text" class="form-control" name="uphone">
                    </div>
                    <div class="form-group">
                        <label >电子邮箱</label>
                        <input type="email" class="form-control" name="umail">
                    </div>
                    <div class="form-group">
                        <label >用户等级</label>
                        <input type="text" class="form-control" name="ulevel">
                    </div>
                    <button type="submit" class="btn btn-default">提交</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="reset" class="btn btn-default">取消</button>
                </form>
            </div>
        </div>
    </div>
</div>
  <script type="text/javascript" src="bs/js/jquery-3.3.1.main.js"></script>
    <script src="bs/js/jquery.min.js"></script>
    <script src="bs/js/bootstrap.min.js"></script>
    <script src="bs/js/bootstrap.js"></script>
	<script src="js/plugins/peity/jquery.peity.min.js"></script>
	<script src="js/plugins/iCheck/icheck.min.js"></script>
	<script src="js/bootstrap-paginator.min.js"></script>
	<script src="js/bootstrap-editable.js"></script>
	<script src="js/bootstrap-table.js"></script>
	<script src="js/bootstrap-table-zh-CN.js"></script>
	<script src="js/bootstrap-table-editable.js"></script>
	<script src="js/jquery.validate.min.js"></script>
	<script src="js/tools.js"></script>
	
<script type="text/javascript">
		$('#regis').validate({
			rules: {
				uname: {
					required: true,
				},
				upassword: {
					required: true,
				}
				
			},
			messages: {
				uname: {
					required: "请自己修改验证规则，并在此输入提示内容",
				},
				upassword: {
					required: "请自己修改验证规则，并在此输入提示内容",
				}
			},
			submitHandler: function (form) {
				addToDBRegis($('#regis').attr("action"), $('#regis').serialize());
			}
		});
		
		function addToDBRegis(url, data) {
			$.ajax({
				url : url,
				type : "post",
				data : data,
				success : function(data) {
					if (data.statusCode =="200") {
						window.location.href="http://localhost:8080/auto/login.html";
						alert("注册成功，请登录");
					}  else {
						alert("add error!" + data.statusMsg);
					} 
				},
				error : function(data) {
					alert("注册成功，请登录");
				}
			})
		}
		</script >
</body>
</html>